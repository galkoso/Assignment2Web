### Variables
@baseUrl = http://localhost:3000
@username = john_doe

@accessToken = {{accessToken}}

### GET Health check endpoint
GET {{baseUrl}}/health
Content-Type: application/json

### USERS

### POST Create user (username + email required)
POST {{baseUrl}}/api/users
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "username": "john_doe",
  "email": "john_doe@example.com",
  "displayName": "John Doe",
  "bio": "Hello world"
}

### GET Get all users
GET {{baseUrl}}/api/users
Content-Type: application/json
Authorization: Bearer {{accessToken}}

### GET Get user by id
GET {{baseUrl}}/api/users/USER_ID
Content-Type: application/json
Authorization: Bearer {{accessToken}}

### PUT Update user (username + email required)
# Replace USER_ID with a real MongoDB ObjectId returned from "Create user"
PUT {{baseUrl}}/api/users/USER_ID
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "username": "john_doe_updated",
  "email": "john_doe_updated@example.com",
  "displayName": "John Doe (Updated)",
  "bio": "Updated bio"
}

### DELETE Delete user
# Replace USER_ID with a real MongoDB ObjectId returned from "Create user"
DELETE {{baseUrl}}/api/users/USER_ID
Content-Type: application/json
Authorization: Bearer {{accessToken}}

### POST Add a new post
POST {{baseUrl}}/api/posts
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "title": "My First Post",
  "content": "This is the content of my first post.",
  "userId": "John Doe",
  "publishDate": "2024-01-15T10:00:00.000Z"
}

### GET Get all posts
GET {{baseUrl}}/api/posts
Content-Type: application/json
Authorization: Bearer {{accessToken}}

### GET Get a post by ID
GET {{baseUrl}}/api/posts/507f1f77bcf86cd799439011
Content-Type: application/json
Authorization: Bearer {{accessToken}}

### GET Get posts by sender
GET {{baseUrl}}/api/posts?userId=John Doe
Content-Type: application/json
Authorization: Bearer {{accessToken}}

### POST Create a new comment
POST {{baseUrl}}/api/comments
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "userId": "Jane Smith",
  "postId": "507f1f77bcf86cd799439011",
  "content": "This is a great post!"
}

### GET Get a comment by ID
GET {{baseUrl}}/api/comments/507f1f77bcf86cd799439011
Content-Type: application/json
Authorization: Bearer {{accessToken}}

### GET Get all comments for a specific post
GET {{baseUrl}}/api/comments/post/507f1f77bcf86cd799439011
Content-Type: application/json
Authorization: Bearer {{accessToken}}

### PUT Update a comment
PUT {{baseUrl}}/api/comments/507f1f77bcf86cd799439011
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
  "content": "Updated comment content"
}

### DELETE Delete a comment
DELETE {{baseUrl}}/api/comments/507f1f77bcf86cd799439011
Content-Type: application/json
Authorization: Bearer {{accessToken}}
